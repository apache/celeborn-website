
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/logo/celeborn-2.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Monitoring - Apache Celeborn™</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#monitoring" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Apache Celeborn™" class="md-header__button md-logo" aria-label="Apache Celeborn™" data-md-component="logo">
      
  <img src="../assets/logo/celeborn-1.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apache Celeborn™
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Monitoring
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://gitbox.apache.org/repos/asf/celeborn.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    apache/celeborn
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      QuickStart
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../deploy/" class="md-tabs__link md-tabs__link--active">
        Deployment
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../configuration/" class="md-tabs__link">
      Configuration
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../migration/" class="md-tabs__link">
      Migration Guide
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../developers/overview/" class="md-tabs__link">
        Developers Doc
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Apache Celeborn™" class="md-nav__button md-logo" aria-label="Apache Celeborn™" data-md-component="logo">
      
  <img src="../assets/logo/celeborn-1.svg" alt="logo">

    </a>
    Apache Celeborn™
  </label>
  
    <div class="md-nav__source">
      <a href="https://gitbox.apache.org/repos/asf/celeborn.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    apache/celeborn
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        QuickStart
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deploy/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deploy_on_k8s/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Monitoring
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Monitoring
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    Metrics
  </a>
  
    <nav class="md-nav" aria-label="Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-metrics-providers" class="md-nav__link">
    Available metrics providers
  </a>
  
    <nav class="md-nav" aria-label="Available metrics providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master" class="md-nav__link">
    Master
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" class="md-nav__link">
    Worker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api" class="md-nav__link">
    REST API
  </a>
  
    <nav class="md-nav" aria-label="REST API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-api-providers" class="md-nav__link">
    Available API providers
  </a>
  
    <nav class="md-nav" aria-label="Available API providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master_1" class="md-nav__link">
    Master
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker_1" class="md-nav__link">
    Worker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quota_management/" class="md-nav__link">
        Quota Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading/" class="md-nav__link">
        Upgrading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../celeborn_ratis_shell/" class="md-nav__link">
        Ratis Shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cluster_planning/" class="md-nav__link">
        Cluster Planning
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../migration/" class="md-nav__link">
        Migration Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          Developers Doc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers Doc" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Developers Doc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Master
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Master" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Master
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/master/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/slotsallocation/" class="md-nav__link">
        Slots Allocation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Worker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Worker" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Worker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/worker/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/trafficcontrol/" class="md-nav__link">
        Traffic Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/jvmprofiler/" class="md-nav__link">
        JVM Profiler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Client" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Client
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/client/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/lifecyclemanager/" class="md-nav__link">
        LifecycleManager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/shuffleclient/" class="md-nav__link">
        ShuffleClient
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/faulttolerant/" class="md-nav__link">
        Fault Tolerant
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/workerexclusion/" class="md-nav__link">
        Worker Exclusion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/integrate/" class="md-nav__link">
        Integrating Celeborn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/sbt/" class="md-nav__link">
        SBT Build
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/glutensupport/" class="md-nav__link">
        Gluten Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developers/helm-charts/" class="md-nav__link">
        Helm Charts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    Metrics
  </a>
  
    <nav class="md-nav" aria-label="Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-metrics-providers" class="md-nav__link">
    Available metrics providers
  </a>
  
    <nav class="md-nav" aria-label="Available metrics providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master" class="md-nav__link">
    Master
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" class="md-nav__link">
    Worker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api" class="md-nav__link">
    REST API
  </a>
  
    <nav class="md-nav" aria-label="REST API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-api-providers" class="md-nav__link">
    Available API providers
  </a>
  
    <nav class="md-nav" aria-label="Available API providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master_1" class="md-nav__link">
    Master
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker_1" class="md-nav__link">
    Worker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="monitoring">Monitoring</h1>
<p>There are two ways to monitor Celeborn cluster: Prometheus metrics and REST API.</p>
<h2 id="metrics">Metrics</h2>
<p>Celeborn has a configurable metrics system based on the
<a href="https://metrics.dropwizard.io/4.2.0">Dropwizard Metrics Library</a>.
This allows users to report Celeborn metrics to a variety of sinks including HTTP, JMX, CSV
files and prometheus servlet. The metrics are generated by sources embedded in the Celeborn code base.
They provide instrumentation for specific activities and Celeborn components.
The metrics system is configured via a configuration file that Celeborn expects to be present
at <code>$CELEBORN_HOME/conf/metrics.properties</code>. A custom file location can be specified via the
<code>celeborn.metrics.conf</code> <a href="https://celeborn.apache.org/docs/latest/configuration/#metrics">configuration property</a>.
Instead of using the configuration file, a set of configuration parameters with prefix
<code>celeborn.metrics.conf.</code> can be used.</p>
<p>Celeborn's metrics are divided into two
<em>instances</em> corresponding to Celeborn components.  The following instances are currently supported:</p>
<ul>
<li><code>master</code>: The Celeborn cluster master process.</li>
<li><code>worker</code>: The Celeborn cluster worker process.</li>
</ul>
<p>Each instance can report to zero or more <em>sinks</em>. Sinks are contained in the
<code>org.apache.celeborn.common.metrics.sink</code> package:</p>
<ul>
<li><code>CSVSink</code>: Exports metrics data to CSV files at regular intervals.</li>
<li><code>PrometheusServlet</code>: Adds a servlet within the existing Celeborn REST API to serve metrics data in Prometheus format.</li>
<li><code>GraphiteSink</code>: Sends metrics to a Graphite node.</li>
</ul>
<p>The syntax of the metrics configuration file and the parameters available for each sink are defined
in an example configuration file,
<code>$CELEBORN_HOME/conf/metrics.properties.template</code>.</p>
<p>When using Celeborn configuration parameters instead of the metrics configuration file, the relevant
parameter names are composed by the prefix <code>celeborn.metrics.conf.</code> followed by the configuration
details, i.e. the parameters take the following form:
<code>celeborn.metrics.conf.[instance|*].sink.[sink_name].[parameter_name]</code>.
This example shows a list of Celeborn configuration parameters for a CSV sink:
<div class="highlight"><pre><span></span><code>&quot;celeborn.metrics.conf.*.sink.csv.class&quot;=&quot;org.apache.celeborn.common.metrics.sink.CsvSink&quot;
&quot;celeborn.metrics.conf.*.sink.csv.period&quot;=&quot;1&quot;
&quot;celeborn.metrics.conf.*.sink.csv.unit&quot;=minutes
&quot;celeborn.metrics.conf.*.sink.csv.directory&quot;=/tmp/
</code></pre></div></p>
<p>Default values of the Celeborn metrics configuration are as follows:
<div class="highlight"><pre><span></span><code>*.sink.prometheusServlet.class=org.apache.celeborn.common.metrics.sink.PrometheusServlet
</code></pre></div></p>
<p>Additional sources can be configured using the metrics configuration file or the configuration
parameter <code>celeborn.metrics.conf.[component_name].source.jvm.class=[source_name]</code>. At present the
no source is the available optional source. For example the following configuration parameter
activates the Example source:
<code>"celeborn.metrics.conf.*.source.jvm.class"="org.apache.celeborn.common.metrics.source.ExampleSource"</code></p>
<h3 id="available-metrics-providers">Available metrics providers</h3>
<p>Metrics used by Celeborn are of multiple types: gauge, counter, histogram, meter and timer,
see <a href="https://metrics.dropwizard.io/4.2.0/getting-started.html">Dropwizard library documentation for details</a>.
The following list of components and metrics reports the name and some details about the available metrics,
grouped per component instance and source namespace.
The most common time of metrics used in Celeborn instrumentation are gauges and counters.
Counters can be recognized as they have the <code>.count</code> suffix. Timers, meters and histograms are annotated
in the list, the rest of the list elements are metrics of type gauge.
The large majority of metrics are active as soon as their parent component instance is configured,
some metrics require also to be enabled via an additional configuration parameter, the details are
reported in the list.</p>
<h4 id="master">Master</h4>
<p>These metrics are exposed by Celeborn master.</p>
<ul>
<li>
<p>namespace=master </p>
<ul>
<li>RegisteredShuffleCount</li>
<li>DeviceCelebornFreeBytes</li>
<li>DeviceCelebornTotalBytes</li>
<li>RunningApplicationCount</li>
<li>ActiveShuffleSize<ul>
<li>The active shuffle size of workers.</li>
</ul>
</li>
<li>ActiveShuffleFileCount<ul>
<li>The active shuffle file count of workers.</li>
</ul>
</li>
<li>WorkerCount</li>
<li>LostWorkerCount</li>
<li>ExcludedWorkerCount</li>
<li>ShutdownWorkerCount</li>
<li>IsActiveMaster</li>
<li>PartitionSize<ul>
<li>The size of estimated shuffle partition.</li>
</ul>
</li>
<li>OfferSlotsTime<ul>
<li>The time for masters to handle <code>RequestSlots</code> request when registering shuffle.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>namespace=CPU</p>
<ul>
<li>JVMCPUTime</li>
</ul>
</li>
<li>
<p>namespace=system</p>
<ul>
<li>LastMinuteSystemLoad<ul>
<li>The average system load for the last minute.</li>
</ul>
</li>
<li>AvailableProcessors</li>
</ul>
</li>
<li>
<p>namespace=JVM</p>
<ul>
<li>This source provides information on JVM metrics using the
<a href="https://metrics.dropwizard.io/4.2.0/manual/jvm.html">Dropwizard/Codahale Metric Sets for JVM instrumentation</a>
and in particular the metric sets BufferPoolMetricSet, GarbageCollectorMetricSet and MemoryUsageGaugeSet.</li>
</ul>
</li>
<li>
<p>namespace=ResourceConsumption</p>
<ul>
<li><strong>notes:</strong><ul>
<li>This metrics data is generated for each user and they are identified using a metric tag.</li>
<li>This metrics also include subResourceConsumptions generated for each application of user and they are identified using <code>applicationId</code> tag.</li>
</ul>
</li>
<li>diskFileCount</li>
<li>diskBytesWritten</li>
<li>hdfsFileCount</li>
<li>hdfsBytesWritten</li>
</ul>
</li>
<li>
<p>namespace=ThreadPool</p>
<ul>
<li><strong>notes:</strong><ul>
<li>This metrics data is generated for each thread pool and they are identified using a metric tag by thread pool name.</li>
</ul>
</li>
<li>active_thread_count</li>
<li>pending_task_count</li>
<li>pool_size</li>
<li>core_pool_size</li>
<li>maximum_pool_size</li>
<li>largest_pool_size</li>
<li>is_terminating</li>
<li>is_terminated</li>
<li>is_shutdown</li>
<li>thread_count</li>
<li>thread_is_terminated_count</li>
<li>thread_is_shutdown_count</li>
</ul>
</li>
</ul>
<h4 id="worker">Worker</h4>
<p>These metrics are exposed by Celeborn worker.</p>
<ul>
<li>
<p>namespace=worker</p>
<table>
<thead>
<tr>
<th>Metric Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>RegisteredShuffleCount</td>
<td>The count of registered shuffle.</td>
</tr>
<tr>
<td>RunningApplicationCount</td>
<td>The count of running applications.</td>
</tr>
<tr>
<td>ActiveShuffleSize</td>
<td>The active shuffle size of a worker including master replica and slave replica.</td>
</tr>
<tr>
<td>ActiveShuffleFileCount</td>
<td>The active shuffle file count of a worker including master replica and slave replica.</td>
</tr>
<tr>
<td>OpenStreamTime</td>
<td>The time for a worker to process openStream RPC and return StreamHandle.</td>
</tr>
<tr>
<td>FetchChunkTime</td>
<td>The time for a worker to fetch a chunk which is 8MB by default from a reduced partition.</td>
</tr>
<tr>
<td>ActiveChunkStreamCount</td>
<td>Active stream count for reduce partition reading streams.</td>
</tr>
<tr>
<td>OpenStreamSuccessCount</td>
<td>The count of opening stream succeed in current worker.</td>
</tr>
<tr>
<td>OpenStreamFailCount</td>
<td>The count of opening stream failed in current worker.</td>
</tr>
<tr>
<td>FetchChunkSuccessCount</td>
<td>The count of fetching chunk succeed in current worker.</td>
</tr>
<tr>
<td>FetchChunkFailCount</td>
<td>The count of fetching chunk failed in current worker.</td>
</tr>
<tr>
<td>PrimaryPushDataTime</td>
<td>The time for a worker to handle a pushData RPC sent from a celeborn client.</td>
</tr>
<tr>
<td>ReplicaPushDataTime</td>
<td>The time for a worker to handle a pushData RPC sent from a celeborn worker by replicating.</td>
</tr>
<tr>
<td>WriteDataHardSplitCount</td>
<td>The count of writing PushData or PushMergedData to HARD_SPLIT partition in current worker.</td>
</tr>
<tr>
<td>WriteDataSuccessCount</td>
<td>The count of writing PushData or PushMergedData succeed in current worker.</td>
</tr>
<tr>
<td>WriteDataFailCount</td>
<td>The count of writing PushData or PushMergedData failed in current worker.</td>
</tr>
<tr>
<td>ReplicateDataFailCount</td>
<td>The count of replicating PushData or PushMergedData failed in current worker.</td>
</tr>
<tr>
<td>ReplicateDataWriteFailCount</td>
<td>The count of replicating PushData or PushMergedData failed caused by write failure in peer worker.</td>
</tr>
<tr>
<td>ReplicateDataCreateConnectionFailCount</td>
<td>The count of replicating PushData or PushMergedData failed caused by creating connection failed in peer worker.</td>
</tr>
<tr>
<td>ReplicateDataConnectionExceptionCount</td>
<td>The count of replicating PushData or PushMergedData failed caused by connection exception in peer worker.</td>
</tr>
<tr>
<td>ReplicateDataFailNonCriticalCauseCount</td>
<td>The count of replicating PushData or PushMergedData failed caused by non-critical exception in peer worker.</td>
</tr>
<tr>
<td>ReplicateDataTimeoutCount</td>
<td>The count of replicating PushData or PushMergedData failed caused by push timeout in peer worker.</td>
</tr>
<tr>
<td>PushDataHandshakeFailCount</td>
<td>The count of PushDataHandshake failed in current worker.</td>
</tr>
<tr>
<td>RegionStartFailCount</td>
<td>The count of RegionStart failed in current worker.</td>
</tr>
<tr>
<td>RegionFinishFailCount</td>
<td>The count of RegionFinish failed in current worker.</td>
</tr>
<tr>
<td>PrimaryPushDataHandshakeTime</td>
<td>PrimaryPushDataHandshake means handle PushData of primary partition location.</td>
</tr>
<tr>
<td>ReplicaPushDataHandshakeTime</td>
<td>ReplicaPushDataHandshake means handle PushData of replica partition location.</td>
</tr>
<tr>
<td>PrimaryRegionStartTime</td>
<td>PrimaryRegionStart means handle RegionStart of primary partition location.</td>
</tr>
<tr>
<td>ReplicaRegionStartTime</td>
<td>ReplicaRegionStart means handle RegionStart of replica partition location.</td>
</tr>
<tr>
<td>PrimaryRegionFinishTime</td>
<td>PrimaryRegionFinish means handle RegionFinish of primary partition location.</td>
</tr>
<tr>
<td>ReplicaRegionFinishTime</td>
<td>ReplicaRegionFinish means handle RegionFinish of replica partition location.</td>
</tr>
<tr>
<td>PausePushDataTime</td>
<td>The time for a worker to stop receiving pushData from clients because of back pressure.</td>
</tr>
<tr>
<td>PausePushDataAndReplicateTime</td>
<td>The time for a worker to stop receiving pushData from clients and other workers because of back pressure.</td>
</tr>
<tr>
<td>PausePushData</td>
<td>The count for a worker to stop receiving pushData from clients because of back pressure.</td>
</tr>
<tr>
<td>PausePushDataAndReplicate</td>
<td>The count for a worker to stop receiving pushData from clients and other workers because of back pressure.</td>
</tr>
<tr>
<td>TakeBufferTime</td>
<td>The time for a worker to take out a buffer from a disk flusher.</td>
</tr>
<tr>
<td>FlushDataTime</td>
<td>The time for a worker to write a buffer which is 256KB by default to storage.</td>
</tr>
<tr>
<td>CommitFilesTime</td>
<td>The time for a worker to flush buffers and close files related to specified shuffle.</td>
</tr>
<tr>
<td>SlotsAllocated</td>
<td>Slots allocated in last hour.</td>
</tr>
<tr>
<td>ActiveSlotsCount</td>
<td>The number of slots currently being used in a worker.</td>
</tr>
<tr>
<td>ReserveSlotsTime</td>
<td>ReserveSlots means acquire a disk buffer and record partition location.</td>
</tr>
<tr>
<td>ActiveConnectionCount</td>
<td>The count of active network connection.</td>
</tr>
<tr>
<td>NettyMemory</td>
<td>The total amount of off-heap memory used by celeborn worker.</td>
</tr>
<tr>
<td>SortTime</td>
<td>The time for a worker to sort a shuffle file.</td>
</tr>
<tr>
<td>SortMemory</td>
<td>The memory used by sorting shuffle files.</td>
</tr>
<tr>
<td>SortingFiles</td>
<td>The count of sorting shuffle files.</td>
</tr>
<tr>
<td>SortedFiles</td>
<td>The count of sorted shuffle files.</td>
</tr>
<tr>
<td>SortedFileSize</td>
<td>The count of sorted shuffle files 's total size.</td>
</tr>
<tr>
<td>DiskBuffer</td>
<td>The memory occupied by pushData and pushMergedData which should be written to disk.</td>
</tr>
<tr>
<td>BufferStreamReadBuffer</td>
<td>The memory used by credit stream read buffer.</td>
</tr>
<tr>
<td>ReadBufferDispatcherRequestsLength</td>
<td>The queue size of read buffer allocation requests.</td>
</tr>
<tr>
<td>ReadBufferAllocatedCount</td>
<td>Allocated read buffer count.</td>
</tr>
<tr>
<td>ActiveCreditStreamCount</td>
<td>Active stream count for map partition reading streams.</td>
</tr>
<tr>
<td>ActiveMapPartitionCount</td>
<td>The count of active map partition reading streams.</td>
</tr>
<tr>
<td>CleanTaskQueueSize</td>
<td>The count of task for cleaning up expired shuffle keys.</td>
</tr>
<tr>
<td>CleanExpiredShuffleKeysTime</td>
<td>The time for a worker to clean up shuffle data of expired shuffle keys.</td>
</tr>
<tr>
<td>DeviceOSFreeBytes</td>
<td>The actual usable space of OS for device monitor.</td>
</tr>
<tr>
<td>DeviceOSTotalBytes</td>
<td>The total usable space of OS for device monitor.</td>
</tr>
<tr>
<td>DeviceCelebornFreeBytes</td>
<td>The actual usable space of Celeborn for device.</td>
</tr>
<tr>
<td>DeviceCelebornTotalBytes</td>
<td>The total space of Celeborn for device.</td>
</tr>
<tr>
<td>PotentialConsumeSpeed</td>
<td>The speed of potential consumption for congestion control.</td>
</tr>
<tr>
<td>UserProduceSpeed</td>
<td>The speed of user production for congestion control.</td>
</tr>
<tr>
<td>WorkerConsumeSpeed</td>
<td>The speed of worker consumption for congestion control.</td>
</tr>
<tr>
<td>IsDecommissioningWorker</td>
<td>1 means worker decommissioning, 0 means not decommissioning.</td>
</tr>
<tr>
<td>MemoryStorageFileCount</td>
<td>The count of files in Memory Storage of a worker.</td>
</tr>
<tr>
<td>MemoryFileStorageSize</td>
<td>The total amount of memory used by Memory Storage.</td>
</tr>
<tr>
<td>EvictedFileCount</td>
<td>The count of files evicted from Memory Storage to Disk</td>
</tr>
<tr>
<td>DirectMemoryUsageRatio</td>
<td>Ratio of direct memory used and max direct memory.</td>
</tr>
<tr>
<td>push_server_usedHeapMemory</td>
<td></td>
</tr>
<tr>
<td>push_server_usedDirectMemory</td>
<td></td>
</tr>
<tr>
<td>push_server_numAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numTinyAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numSmallAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numNormalAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numHugeAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numDeallocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numTinyDeallocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numSmallDeallocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numNormalDeallocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numHugeDeallocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numActiveAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numActiveTinyAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numActiveSmallAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numActiveNormalAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numActiveHugeAllocations</td>
<td></td>
</tr>
<tr>
<td>push_server_numActiveBytes</td>
<td></td>
</tr>
<tr>
<td>replicate_server_usedHeapMemory</td>
<td></td>
</tr>
<tr>
<td>replicate_server_usedDirectMemory</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numTinyAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numSmallAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numNormalAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numHugeAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numDeallocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numTinyDeallocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numSmallDeallocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numNormalDeallocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numHugeDeallocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numActiveAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numActiveTinyAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numActiveSmallAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numActiveNormalAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numActiveHugeAllocations</td>
<td></td>
</tr>
<tr>
<td>replicate_server_numActiveBytes</td>
<td></td>
</tr>
<tr>
<td>fetch_server_usedHeapMemory</td>
<td></td>
</tr>
<tr>
<td>fetch_server_usedDirectMemory</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numTinyAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numSmallAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numNormalAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numHugeAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numDeallocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numTinyDeallocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numSmallDeallocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numNormalDeallocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numHugeDeallocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numActiveAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numActiveTinyAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numActiveSmallAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numActiveNormalAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numActiveHugeAllocations</td>
<td></td>
</tr>
<tr>
<td>fetch_server_numActiveBytes</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>namespace=CPU</p>
<ul>
<li>JVMCPUTime</li>
</ul>
</li>
<li>
<p>namespace=system</p>
<ul>
<li>LastMinuteSystemLoad<ul>
<li>Returns the system load average for the last minute.</li>
</ul>
</li>
<li>AvailableProcessors</li>
</ul>
</li>
<li>
<p>namespace=JVM</p>
<ul>
<li>This source provides information on JVM metrics using the
  <a href="https://metrics.dropwizard.io/4.2.0/manual/jvm.html">Dropwizard/Codahale Metric Sets for JVM instrumentation</a>
  and in particular the metric sets BufferPoolMetricSet, GarbageCollectorMetricSet and MemoryUsageGaugeSet.</li>
</ul>
</li>
<li>
<p>namespace=ResourceConsumption</p>
<ul>
<li><strong>notes:</strong><ul>
<li>This metrics data is generated for each user and they are identified using a metric tag.</li>
<li>This metrics also include subResourceConsumptions generated for each application of user and they are identified using <code>applicationId</code> tag.</li>
</ul>
</li>
<li>diskFileCount</li>
<li>diskBytesWritten</li>
<li>hdfsFileCount</li>
<li>hdfsBytesWritten</li>
</ul>
</li>
<li>
<p>namespace=ThreadPool</p>
<ul>
<li><strong>notes:</strong><ul>
<li>This metrics data is generated for each thread pool and they are identified using a metric tag by thread pool name.</li>
</ul>
</li>
<li>active_thread_count</li>
<li>pending_task_count</li>
<li>pool_size</li>
<li>core_pool_size</li>
<li>maximum_pool_size</li>
<li>largest_pool_size</li>
<li>is_terminating</li>
<li>is_terminated</li>
<li>is_shutdown</li>
</ul>
</li>
</ul>
<p><strong>Note:</strong></p>
<p>The Netty DirectArenaMetrics named like <code>push/fetch/replicate_server_numXX</code> are not exposed by default, nor in Grafana dashboard.
If there is a need, you can enable <code>celeborn.network.memory.allocator.verbose.metric</code> to expose these metrics.</p>
<h2 id="rest-api">REST API</h2>
<p>In addition to viewing the metrics, Celeborn also support REST API. This gives developers
an easy way to create new visualizations and monitoring tools for Celeborn and
also easy for users to get the running status of the service. The REST API is available for
both master and worker. The endpoints are mounted at <code>host:port</code>. For example,
for the master, they would typically be accessible
at <code>http://&lt;master-http-host&gt;:&lt;master-http-port&gt;&lt;path&gt;</code>, and
for the worker, at <code>http://&lt;worker-http-host&gt;:&lt;worker-http-port&gt;&lt;path&gt;</code>.</p>
<p>The configuration of <code>&lt;master-http-host&gt;</code>, <code>&lt;master-http-port&gt;</code>, <code>&lt;worker-http-host&gt;</code>, <code>&lt;worker-http--port&gt;</code> as below:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
<th>Since</th>
</tr>
</thead>
<tbody>
<tr>
<td>celeborn.master.http.host</td>
<td>0.0.0.0</td>
<td>Master's http host.</td>
<td>0.4.0</td>
</tr>
<tr>
<td>celeborn.master.http.port</td>
<td>9098</td>
<td>Master's http port.</td>
<td>0.4.0</td>
</tr>
<tr>
<td>celeborn.worker.http.host</td>
<td>0.0.0.0</td>
<td>Worker's http host.</td>
<td>0.4.0</td>
</tr>
<tr>
<td>celeborn.worker.http.port</td>
<td>9096</td>
<td>Worker's http port.</td>
<td>0.4.0</td>
</tr>
</tbody>
</table>
<h3 id="available-api-providers">Available API providers</h3>
<p>API path listed as below:</p>
<h4 id="master_1">Master</h4>
<table>
<thead>
<tr>
<th>Path</th>
<th>Method</th>
<th>Parameters</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>/applications</td>
<td>GET</td>
<td></td>
<td>List all running application's ids of the cluster.</td>
</tr>
<tr>
<td>/conf</td>
<td>GET</td>
<td></td>
<td>List the conf setting of the master.</td>
</tr>
<tr>
<td>/excludedWorkers</td>
<td>GET</td>
<td></td>
<td>List all excluded workers of the master.</td>
</tr>
<tr>
<td>/help</td>
<td>GET</td>
<td></td>
<td>List the available API providers of the master.</td>
</tr>
<tr>
<td>/hostnames</td>
<td>GET</td>
<td></td>
<td>List all running application's LifecycleManager's hostnames of the cluster.</td>
</tr>
<tr>
<td>/listDynamicConfigs</td>
<td>GET</td>
<td>level=${LEVEL} tenant=${TENANT} name=${NAME}</td>
<td>List the dynamic configs of the master. The parameter level specifies the config level of dynamic configs. The parameter tenant specifies the tenant id of TENANT or TENANT_USER level. The parameter name specifies the user name of TENANT_USER level. Meanwhile, either none or all of the parameter tenant and name are specified for TENANT_USER level.</td>
</tr>
<tr>
<td>/listTopDiskUsedApps</td>
<td>GET</td>
<td></td>
<td>List the top disk usage application ids. It will return the top disk usage application ids for the cluster.</td>
</tr>
<tr>
<td>/lostWorkers</td>
<td>GET</td>
<td></td>
<td>List all lost workers of the master.</td>
</tr>
<tr>
<td>/masterGroupInfo</td>
<td>GET</td>
<td></td>
<td>List master group information of the service. It will list all master's LEADER, FOLLOWER information.</td>
</tr>
<tr>
<td>/metrics/prometheus</td>
<td>GET</td>
<td></td>
<td>List the metrics data in prometheus format of the master. The url path is defined by configure <code>celeborn.metrics.prometheus.path</code>.</td>
</tr>
<tr>
<td>/shuffles</td>
<td>GET</td>
<td></td>
<td>List all running shuffle keys of the service. It will return all running shuffle's key of the cluster.</td>
</tr>
<tr>
<td>/shutdownWorkers</td>
<td>GET</td>
<td></td>
<td>List all shutdown workers of the master.</td>
</tr>
<tr>
<td>/threadDump</td>
<td>GET</td>
<td></td>
<td>List the current thread dump of the master.</td>
</tr>
<tr>
<td>/workerEventInfo</td>
<td>GET</td>
<td></td>
<td>List all worker event information of the master.</td>
</tr>
<tr>
<td>/workerInfo</td>
<td>GET</td>
<td></td>
<td>List worker information of the service. It will list all registered workers' information.</td>
</tr>
<tr>
<td>/exclude</td>
<td>POST</td>
<td>add=${ADD_WORKERS} remove=${REMOVE_WORKERS}</td>
<td>Excluded workers of the master add or remove the worker manually given worker id. The parameter add or remove specifies the excluded workers to add or remove, which value is separated by commas.</td>
</tr>
<tr>
<td>/sendWorkerEvent</td>
<td>POST</td>
<td>type=${EVENT_TYPE} workers=${WORKERS}</td>
<td>For Master(Leader) can send worker event to manager workers. Legal <code>type</code>s are 'None', 'Immediately', 'Decommission', 'DecommissionThenIdle', 'Graceful', 'Recommission', and the parameter workers is separated by commas.</td>
</tr>
</tbody>
</table>
<h4 id="worker_1">Worker</h4>
<table>
<thead>
<tr>
<th>Path</th>
<th>Method</th>
<th>Parameters</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>/applications</td>
<td>GET</td>
<td></td>
<td>List all running application's ids of the worker. It only return application ids running in that worker.</td>
</tr>
<tr>
<td>/conf</td>
<td>GET</td>
<td></td>
<td>List the conf setting of the worker.</td>
</tr>
<tr>
<td>/help</td>
<td>GET</td>
<td></td>
<td>List the available API providers of the worker.</td>
</tr>
<tr>
<td>/isRegistered</td>
<td>GET</td>
<td></td>
<td>Show if the worker is registered to the master success.</td>
</tr>
<tr>
<td>/isShutdown</td>
<td>GET</td>
<td></td>
<td>Show if the worker is during the process of shutdown.</td>
</tr>
<tr>
<td>/listDynamicConfigs</td>
<td>GET</td>
<td>level=${LEVEL} tenant=${TENANT} name=${NAME}</td>
<td>List the dynamic configs of the worker. The parameter level specifies the config level of dynamic configs. The parameter tenant specifies the tenant id of TENANT or TENANT_USER level. The parameter name specifies the user name of TENANT_USER level. Meanwhile, either none or all of the parameter tenant and name are specified for TENANT_USER level.</td>
</tr>
<tr>
<td>/listPartitionLocationInfo</td>
<td>GET</td>
<td></td>
<td>List all the living PartitionLocation information in that worker.</td>
</tr>
<tr>
<td>/listTopDiskUsedApps</td>
<td>GET</td>
<td></td>
<td>List the top disk usage application ids. It only return application ids running in that worker.</td>
</tr>
<tr>
<td>/metrics/prometheus</td>
<td>GET</td>
<td></td>
<td>List the metrics data in prometheus format of the worker. The url path is defined by configure <code>celeborn.metrics.prometheus.path</code>.</td>
</tr>
<tr>
<td>/shuffles</td>
<td>GET</td>
<td></td>
<td>List all the running shuffle keys of the worker. It only return keys of shuffles running in that worker.</td>
</tr>
<tr>
<td>/threadDump</td>
<td>GET</td>
<td></td>
<td>List the current thread dump of the worker.</td>
</tr>
<tr>
<td>/unavailablePeers</td>
<td>GET</td>
<td></td>
<td>List the unavailable peers of the worker, this always means the worker connect to the peer failed.</td>
</tr>
<tr>
<td>/workerInfo</td>
<td>GET</td>
<td></td>
<td>List the worker information of the worker.</td>
</tr>
<tr>
<td>/exit</td>
<td>POST</td>
<td>type=${EXIT_TYPE}</td>
<td>Trigger this worker to exit. Legal <code>type</code>s are 'Decommission', 'Graceful' and 'Immediately'.</td>
</tr>
</tbody>
</table>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../deploy_on_k8s/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Kubernetes" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Kubernetes
            </div>
          </div>
        </a>
      
      
        
        <a href="../security/" class="md-footer__link md-footer__link--next" aria-label="Next: Security" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Security
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <br> Copyright © 2022-2024 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy<a/><br> <br> Apache Celeborn™, Apache, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.<br> <br> Please visit <a href="https://www.apache.org/">Apache Software Foundation</a> for more details.<br> <br>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>